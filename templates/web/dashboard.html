{% extends 'base.html' %}
{% load web_filter %}
{% block content %}
{% load static %}

<!-- BEGIN #header -->

<!-- END #header -->

<!-- BEGIN #sidebar -->

<!-- END #sidebar -->

<!-- BEGIN #content -->
<div id="content" class="app-content">
	<!-- BEGIN row -->
	<div class="row">
		<!-- BEGIN col-3 -->
		<div class="col-xl-3 col-lg-6">
			<!-- BEGIN card -->
			<div class="card mb-3">
				<!-- BEGIN card-body -->
				<div class="card-body h-150px">
					<!-- BEGIN title -->
					<div class="d-flex fw-bold small">
<!--						<span class="flex-grow-1">Asset Count By Item</span>-->
						<span class="flex-grow-1">자산 항목 수 (상위 3개)</span>
					</div>
					<!-- END title -->
					<!-- BEGIN stat-lg -->
					<div class="h-100px">
						<!-- END stat-sm -->
						<div>
							<div class="col-12">
								<div class="mt-n3 mb-n2 h-100px" id="apexColumnChart"></div>
							</div>
						</div>
					</div>
					<!-- END stat-lg -->
				</div>
				<!-- END card-body -->

				<!-- BEGIN card-arrow -->
				<div class="card-arrow">
					<div class="card-arrow-top-left"></div>
					<div class="card-arrow-top-right"></div>
					<div class="card-arrow-bottom-left"></div>
					<div class="card-arrow-bottom-right"></div>
				</div>
				<!-- END card-arrow -->
			</div>
			<!-- END card -->
		</div>
		<!-- END col-3 -->
		<!-- BEGIN col-3 -->
		<div class="col-xl-3 col-lg-6">
			<!-- BEGIN card -->
			<div class="card mb-3">
				<!-- BEGIN card-body -->
				<div class="card-body h-150px">
					<!-- BEGIN title -->
					<div class="d-flex fw-bold small">
<!--						<span class="flex-grow-1">Asset Count By Day Item</span>-->
						<span class="flex-grow-1">자산 항목 수 (최근 5일)</span>
					</div>
					<!-- END title -->
					<!-- BEGIN stat-lg -->
					<div class="row align-items-center mb-2">
						<div class="h-100px">
							<div>
								<div class="col-12">
									<div class="mt-n3 mb-n2 h-100px" id="apexLineChart"></div>
								</div>
							</div>
						</div>
					</div>
					<!-- END stat-lg -->
				</div>
				<!-- END card-body -->

				<!-- BEGIN card-arrow -->
				<div class="card-arrow">
					<div class="card-arrow-top-left"></div>
					<div class="card-arrow-top-right"></div>
					<div class="card-arrow-bottom-left"></div>
					<div class="card-arrow-bottom-right"></div>
				</div>
				<!-- END card-arrow -->
			</div>
			<!-- END card -->
		</div>
		<!-- END col-3 -->

		<!-- BEGIN col-3 -->
		<div class="col-xl-3 col-lg-6">
			<!-- BEGIN card -->
			<div class="card mb-3">
				<!-- BEGIN card-body -->
				<div class="card-body h-150px">
					<!-- BEGIN title -->
					<div class="d-flex fw-bold small">
<!--						<span class="flex-grow-1">Count By OS Item (Top3)</span>-->
						<span class="flex-grow-1">OS별 자산 항목 수 (상위 3개)</span>
					</div>
					<!-- END title -->
					<!-- BEGIN stat-lg -->
					<div class="h-100px d-flex flex-row align-items-center justify-content-sm-between ">
						<div class="small text-white text-opacity-50 text-truncate col-3">
							{% if chartData.pieChartDataList %}
							{% for data in chartData.pieChartDataList %}
							{% if data.name == "Linux" %}
							<i class="fab fa-linux fa-fw me-1"></i>
							{% elif data.name == "Mac" %}
							<i class="fab fa-apple fa-fw me-1"></i>
							{% elif data.name == "Windows" %}
							<i class="fab fa-windows fa-fw me-1"></i>
							{% else %}
							<i class="fas fa-ellipsis-h fa-fw me-1"></i>
							{% endif %}
							{{data.name}}
							<br>
							{% endfor %}
							{% endif %}
						</div>
						<div class="small text-white text-opacity-50 text-truncate col-1">
							{% if chartData.pieChartDataList %}
							{% for data in chartData.pieChartDataList %}
							{{data.value}}<br>
							{% endfor %}
							{% endif %}
						</div>
						<div>
							<div class="col-12">
								<div class="mt-n3 mb-n2 h-100px" id="apexPieChart"></div>
							</div>
						</div>
					</div>
					<!-- END stat-lg -->
				</div>
				<!-- END card-body -->

				<!-- BEGIN card-arrow -->
				<div class="card-arrow">
					<div class="card-arrow-top-left"></div>
					<div class="card-arrow-top-right"></div>
					<div class="card-arrow-bottom-left"></div>
					<div class="card-arrow-bottom-right"></div>
				</div>
				<!-- END card-arrow -->
			</div>
			<!-- END card -->
		</div>
		<!-- END col-3 -->

		<!-- BEGIN col-3 -->
		<div class="col-xl-3 col-lg-6">
			<!-- BEGIN card -->
			<div class="card mb-3">
				<!-- BEGIN card-body -->
				<div class="card-body h-150px">
					<!-- BEGIN title -->
					<div class="d-flex fw-bold small">
<!--						<span class="flex-grow-1">Installed Application (Top5)</span>-->
						<span class="flex-grow-1">설치된 SW 현황 (상위 5개)</span>
					</div>
					<!-- END title -->
					<!-- BEGIN stat-lg -->
					<div class="h-100px d-flex flex-row align-items-center justify-content-sm-between ">
						<div class="small text-white text-opacity-50 text-truncate col-5" >
							{% if chartData.donutChartDataList %}
							{% for data in chartData.donutChartDataList %}
							<i class="fas fa-cogs fa-fw me-1" ></i>
							<span title="{{data.name}}">{{data.name}}</span>
							<br>
							{% endfor %}
							{% endif %}
						</div>

						<div class="small text-white text-opacity-50 text-truncate col-1" style="padding-left: 10px;">
							{% if chartData.donutChartDataList %}
							{% for data in chartData.donutChartDataList %}
							{{data.value}}
							<br>
							{% endfor %}
							{% endif %}
						</div>
						<div>
							<div class="col-12">
								<div class="mt-n3 mb-n2 h-100px" id="apexDonutChart"></div>
							</div>
						</div>
					</div>
					<!-- END stat-lg -->
				</div>
				<!-- END card-body -->

				<!-- BEGIN card-arrow -->
				<div class="card-arrow">
					<div class="card-arrow-top-left"></div>
					<div class="card-arrow-top-right"></div>
					<div class="card-arrow-bottom-left"></div>
					<div class="card-arrow-bottom-right"></div>
				</div>
				<!-- END card-arrow -->
			</div>
			<!-- END card -->
		</div>
		<!-- END col-3 -->

		<!-- BEGIN col-6 -->
		<div class="col-xl-6">
			<!-- BEGIN card -->
			<div class="card mb-3">
				<!-- BEGIN card-body -->
				<div class="card-body h-600px">
					<!-- BEGIN title -->
					<div class="d-flex fw-bold small mb-2">
<!--						<span class="flex-grow-1">Failure Symptom Case Detection Count By Group</span>-->
						<span class="flex-grow-1">그룹별 장애 징후 감지 항목 수 (상위 5개)</span>
					</div>
					<!-- END title -->
					<div class="d-flex justify-content-center align-items-center">
						<!-- BEGIN chart -->
						<div class="col-8 h-540px">
							<div id="apexRadarChart" ></div>
						</div>
						<!-- END chart -->
						<!-- BEGIN row -->
						<div class="row col-4" style="flex-direction: column;">
							<!-- BEGIN col-6 -->
							<div class="FailureA">
								<!-- BEGIN chart -->
								<div class="h-270px">
									<div id="apexDonutFailureAChart"></div>
								</div>
								<!-- END chart -->
							</div>
							<!-- END col-6 -->
							<!-- BEGIN col-6 -->
							<div class="FailureB">
								<!-- BEGIN chart -->
								<div class="h-270px">
									<div id="apexDonutFailureBChart"></div>
								</div>
								<!-- END chart -->
								<!-- BEGIN info -->
								{% comment %} <div class="ps-3 flex-1">
								<div class="fs-10px fw-bold text-white text-opacity-50 mb-1 pt-1">CPU Usage Exceeded
								</div>
								<div class="progress h-3px bg-white-transparent-2 mb-1">
									<div class="progress-bar bg-theme" style="width: 100%"></div>
								</div>
								<!--									<div class="fs-11px text-white text-opacity-50 mb-2 text-truncate">-->
								<!--										Last updated 1 min ago-->
								<!--									</div>-->
								{% for x in chartData.minidonutData %}
								{% if "CPU" in x.name %}
								<div class="d-flex align-items-center small">
									<i class="bi bi-circle-fill fs-6px me-2 text-theme"></i>
									<div class="flex-1">{{x.ip}}</div>
									<div>{{x.value}}</div>
								</div>
								{% endif %}
								{% endfor %}
							</div> {% endcomment %}
								<!-- END info -->
							</div>

							<!-- END col-6 -->
						</div>
						<!-- END row -->

					</div>

				</div>
				<!-- END card-body -->

				<!-- BEGIN card-arrow -->
				<div class="card-arrow">
					<div class="card-arrow-top-left"></div>
					<div class="card-arrow-top-right"></div>
					<div class="card-arrow-bottom-left"></div>
					<div class="card-arrow-bottom-right"></div>
				</div>
				<!-- END card-arrow -->
			</div>
			<!-- END card -->
		</div>
		<!-- END col-6 -->

		<!-- BEGIN col-6 -->
		<div class="col-xl-6">
			<!-- BEGIN card -->
			<div class="card mb-3">
				<!-- BEGIN card-body -->
				<div class="card-body h-600px">
					<!-- BEGIN title -->

					<div class="d-flex fw-bold small mb-3">
						<div class="flex-grow-1" style="position: relative;">
<!--							Failure Symptom Case Detection-->
							그룹별 장애 징후 감지 모니터링
							<div class="btn-group ps-3" style="position: absolute; right:20px;">
								{% if MapUse.WorldUse == 'block' %}
								<button type="button" id="worldBtn" class="btn btn-outline-warning btn-sm">세계</button>
								{%endif%}
								{% if MapUse.KoreaUse == 'block' %}
								<button type="button" id="koreaBtn" class="btn btn-outline-warning btn-sm">국내</button>
								{%endif%}
								{% if MapUse.AreaUse == 'block' %}
								<button type="button" id="areaBtn" class="btn btn-outline-warning btn-sm">지역</button>
								{%endif%}
							</div>
						</div>
						<a href="#" data-toggle="card-expand"
						   class="text-white text-opacity-50 text-decoration-none"><i class="bi bi-fullscreen"></i></a>
					</div>
					<!-- END title -->
					<!-- BEGIN map -->

					<div class="ratio ratio-21x9" style="width: 100%;">
						{% if MapUse.WorldUse == 'block' %}
						<div id="world-map" style="display:{{MapUse.WorldUse}}"></div>
						{%endif%}
						{% if MapUse.KoreaUse == 'block' %}
						<div id="korea-map" style="display:{{MapUse.KoreaUse}}"></div>
						{%endif%}
						{% if MapUse.AreaUse == 'block' %}
						<div id="seoul-map"  style="display:{{MapUse.AreaUse}}"></div>
						<div id="seongnam-map"  style="display:{{MapUse.AreaUse}}"></div>
						{%endif%}
					</div>

					<!-- END map -->
					<!-- BEGIN row -->
					<div class="row gx-4" id="alarmCase" style="margin-top: 15px">
						<!-- BEGIN col-6 -->
						<div class="col-lg-6 mb-3 mb-lg-0">
							<table class="w-100 fs-12px mb-0 text-truncate text-white text-opacity-60">
								<thead>
<!--								<tr class="text-white text-opacity-75">-->
<!--									<th class="w-50">Alarm Case</th>-->
<!--									<th class="w-25 text-end">Count</th>-->
<!--									<th class="w-25 text-end">PCT%</th>-->
<!--								</tr>								-->
								<tr class="text-white text-opacity-75">
									<th class="w-50">알람 케이스</th>
									<th class="w-25 text-end">자산 수</th>
									<th class="w-25 text-end">PCT%</th>
								</tr>
								</thead>
								<tbody>
								{% for TotalData in chartData.TotalDataList.nodeDataList %}
								<tr>
									<td>{{TotalData.alarmCase}}</td>
									<td class="text-end">{{TotalData.alarmCount}}</td>
									<td class="text-end">{{TotalData.alarmpertage}}%</td>
								</tr>
								{% endfor %}
								</tbody>
							</table>
						</div>
						<!-- END col-6 -->
						<!-- BEGIN col-6 -->
						<div class="col-lg-6">
							<!-- BEGIN card -->
							<div class="card">
								<!-- BEGIN card-body -->
								<div class="card-body py-2 h-150px">
									<div class="text-white text-opacity-75">
										<span class="w-50" style="font-size:12px;">총 알람 케이스 상위 5개 (%)</span>
									</div>
									<div>
										<div id="apexDonutFailureCChart"></div>
									</div>
									<!--<div class="flex-1 ps-2">
                                        <table class="w-100 fs-12px mb-0 text-white text-opacity-60">
                                            <thead>
                                            <th class="w-25">GROUP</th>
                                            <th class="w-25 text-end">PCT%</th>
                                            </thead>
                                            <tbody>
                                            {% for TotalTopData in chartData.TotalTopDataList.nodeDataList %}
                                            <tr>
                                                <td>
                                                    <div class="d-flex align-items-center">
                                                        <div class="w-6px h-6px rounded-pill me-2 bg-theme bg-opacity-95"></div>
                                                        {{TotalTopData.group}}
                                                    </div>
                                                </td>
                                                <td class="text-end">{{TotalTopData.totalPertage}}%</td>
                                            </tr>
                                            {% endfor %}
                                            </tbody>
                                        </table>
                                    </div>-->
								</div>

								<!-- END card-body -->

								<!-- BEGIN card-arrow -->
								<div class="card-arrow">
									<div class="card-arrow-top-left"></div>
									<div class="card-arrow-top-right"></div>
									<div class="card-arrow-bottom-left"></div>
									<div class="card-arrow-bottom-right"></div>
								</div>
								<!-- END card-arrow -->
							</div>
							<!-- END card -->
						</div>
						<!-- END col-6 -->
					</div>
					<!-- END row -->
				</div>

				<!-- END card-body -->

				<!-- BEGIN card-arrow -->
				<div class="card-arrow">
					<div class="card-arrow-top-left"></div>
					<div class="card-arrow-top-right"></div>
					<div class="card-arrow-bottom-left"></div>
					<div class="card-arrow-bottom-right"></div>
				</div>
				<!-- END card-arrow -->
			</div>
			<!-- END card -->
		</div>
		<!-- END col-6 -->

		<!-- BEGIN col-6 -->
		<div class="col-xl-12 h-130px" >
			<!-- BEGIN card -->
			<div class="card mb-3">
				<!-- BEGIN card-body -->
				<div class="card-body h-130px">
					<!-- BEGIN swiper -->
					<div class="swiper-container">
						<div class="swiper-wrapper">
							{% if chartData.bannerDataList %}
							{% for bannerData in chartData.bannerDataList %}
							<div class="swiper-slide">
								<div class="conBanner">
									<div class="count-title text-truncate fw-normal text-white text-opacity-75 px-sm-3 fs-12px" title="{{bannerData.name}} Count">{{bannerData.name}} Count</div>
									<div class="count-num">
										<span class="conTotalnum fw-bold text-opacity-60 fs-4">{{bannerData.value}}</span>
										<div class="conNumImg">
											{% if bannerData.roc == 0 %}
											<a class="conNumIcon text-decoration-none"> - </a>
											{% elif bannerData.roc > 0 %}
											<img class="conArrow" src="{% static 'img/common/dashboard/arrowTop.png' %}">
											{% else %}
											<img class="conArrow" src="{% static 'img/common/dashboard/arrowBot.png' %}">
											{% endif %}
										</div>
										<span class="conNum text-theme fw-bold">
											{% if bannerData.roc < 0 %}
											{% widthratio bannerData.roc 1 -1 %}
											{% else %}
											{{bannerData.roc}}
											{% endif %}
										</span>
									</div>
								</div>
							</div>
							{% endfor %}
							{% endif %}
						</div>
					</div>
					<!-- END swiper -->
				</div>
				<!-- END card-body -->

				<!-- BEGIN card-arrow -->
				<div class="card-arrow">
					<div class="card-arrow-top-left"></div>
					<div class="card-arrow-top-right"></div>
					<div class="card-arrow-bottom-left"></div>
					<div class="card-arrow-bottom-right"></div>
				</div>
				<!-- END card-arrow -->
			</div>
			<!-- END card -->
		</div>
		<!-- END col-6 -->
	</div>
	<!-- END row -->
</div>
<!-- END #content -->


<script>
	window.setTimeout('window.location.reload()',600000);
</script>
{% endblock %}

